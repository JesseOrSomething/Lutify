<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    
    <!-- This tells the browser bar what color to be in light/dark mode -->
    <meta name="theme-color" content="#EADDFF" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#21005D" media="(prefers-color-scheme: dark)">

    <title>PixelPerfect</title>
    
    <!-- Google Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- App Stylesheet and Manifest -->
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

    <!-- Landing Page for First-Time Users -->
    <div id="landing-page">
        <div class="landing-content">
            <span class="material-symbols-outlined landing-icon">auto_awesome</span>
            <h1>Welcome to PixelPerfect</h1>
            <p>For a fullscreen, native app experience, please add this app to your Home Screen.</p>
            <div class="install-instructions">
                <p><strong>How to Install:</strong></p>
                <ol>
                    <li>Tap the <span class="material-symbols-outlined inline-icon">more_vert</span> or <span class="material-symbols-outlined inline-icon">ios_share</span> button in your browser.</li>
                    <li>Select 'Add to Home Screen' or 'Install App'.</li>
                </ol>
            </div>
            <button id="enter-app-button" class="fab extended">
                <span class="material-symbols-outlined">arrow_forward</span>
                Continue to App
            </button>
        </div>
    </div>

    <!-- Main App Interface -->
    <div id="app" class="hidden">
        <header class="app-bar">
            <h1 class="app-title">PixelPerfect</h1>
            <button id="install-button-main" class="icon-button" title="Install App">
                <span class="material-symbols-outlined">download_for_offline</span>
            </button>
        </header>

        <main class="main-content">
            <div id="image-workspace">
                <canvas id="canvas"></canvas>
                <div id="placeholder">
                    <span class="material-symbols-outlined placeholder-icon">add_photo_alternate</span>
                    <p>Add a photo to begin</p>
                </div>
            </div>

            <div class="gallery-container">
                <div class="gallery-actions">
                    <label for="image-upload" class="fab" title="Add Photos">
                        <span class="material-symbols-outlined">add_a_photo</span>
                    </label>
                    <span class="gallery-title">Your Photos</span>
                </div>
                <div id="photo-gallery" class="grid-gallery">
                    <!-- Photo thumbnails are added here by JS -->
                </div>
            </div>

            <div class="gallery-container">
                 <div class="gallery-actions">
                    <label for="lut-upload" class="fab" title="Import LUTs">
                        <span class="material-symbols-outlined">style</span>
                    </label>
                    <span class="gallery-title">Filters (LUTs)</span>
                </div>
                <div id="lut-gallery" class="grid-gallery">
                    <!-- LUT chips are added here by JS -->
                </div>
            </div>
        </main>

        <input type="file" id="image-upload" accept="image/*" multiple style="display: none;">
        <input type="file" id="lut-upload" accept=".cube" multiple style="display: none;">
    </div>

    <script src="app.js"></script>
</body>
</html>
